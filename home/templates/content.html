{% load static %}
{% load price_tags %}
{% load humanize %}

<!-- üåü CATEGORY SECTION START -->
<section class="max-w-7xl mx-auto py-24 px-6 mt-10 bg-white shadow-2xl rounded-3xl mb-10">
  <!-- Heading -->
  <div class="text-center mb-14">
    <h2 class="text-4xl md:text-5xl font-extrabold tracking-wide text-gray-900">
      ‚ú® Products Category
    </h2>
    <p class="text-gray-600 mt-3 text-lg">
      Explore our premium range of furniture, crafted for elegance
    </p>
  </div>

  <!-- Slider Wrapper -->
  <div class="relative">
    <!-- Left Button -->
    <button id="prevBtn"
      class="hidden sm:flex absolute left-0 top-1/2 -translate-y-1/2 bg-amber-500 shadow-lg rounded-full p-3 z-10 text-white text-2xl hover:scale-125 transition-transform focus:outline-none">
      <i class="fa-solid fa-chevron-left"></i>
    </button>

    <!-- Scrollable Slider -->
    <div id="categorySlider"
      class="flex gap-6 sm:gap-10 overflow-x-auto scroll-smooth snap-x snap-mandatory no-scrollbar px-2 py-3">
      {% for rs in category %}
      <a href="{% url 'category_products' rs.id rs.slug %}"
        class="min-w-[250px] sm:min-w-[300px] snap-center bg-gradient-to-b from-gray-50 to-white shadow-lg rounded-2xl overflow-hidden text-center border border-transparent hover:border-amber-500 hover:shadow-2xl transform hover:scale-105 transition-all duration-300">

        <!-- Image -->
        <div class="relative h-48 sm:h-56 overflow-hidden">
          <img src="{{ rs.image.url }}" alt="{{ rs.title }}"
            class="w-full h-full object-cover hover:scale-110 transition-transform duration-500">
          <div
            class="absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 flex items-center justify-center transition duration-500">
            <span class="text-white text-lg sm:text-xl font-semibold">View More</span>
          </div>
        </div>

        <!-- Title -->
        <div class="py-5">
          <h3 class="font-bold text-lg sm:text-xl text-gray-800">{{ rs.title }}</h3>
        </div>
      </a>
      {% endfor %}
    </div>

    <!-- Right Button -->
    <button id="nextBtn"
      class="hidden sm:flex absolute right-0 top-1/2 -translate-y-1/2 bg-amber-500 shadow-lg rounded-full p-3 z-10 text-white text-2xl hover:scale-125 transition-transform focus:outline-none">
      <i class="fa-solid fa-chevron-right"></i>
    </button>
  </div>
</section>
<!-- üåü CATEGORY SECTION END -->


<!-- PRODUCT START HERE -->
<product class="bg-[#fdfcf9] py-10">
    <section class="max-w-7xl mx-auto px-4 py-12 bg-white shadow-lg rounded-lg">
           



          <div class="text-center mb-10">
            <h2 class="text-4xl font-bold tracking-wide text-gray-900">Our Products</h2>
            <p class="text-gray-600 mt-2">Discover our exclusive furniture collection, blending style and comfort for your home.</p>
          </div>
          
          <!-- Tabs -->
          <div class="flex flex-wrap justify-center gap-4 mb-10">
            <button class="tab-btn px-6 py-2 rounded-full font-semibold shadow-sm transition-all duration-300 bg-yellow-500 text-white scale-105" data-tab="new">‚ú® New Arrivals</button>
            <button class="tab-btn px-6 py-2 rounded-full font-semibold shadow-sm transition-all duration-300 bg-gray-200 text-gray-700 hover:bg-yellow-400 hover:text-white" data-tab="top">‚≠ê Top Rated</button>
            <button class="tab-btn px-6 py-2 rounded-full font-semibold shadow-sm transition-all duration-300 bg-gray-200 text-gray-700 hover:bg-yellow-400 hover:text-white" data-tab="feat">üî• Featured</button>
          </div>

          <!-- Panels -->
         <div id="new" class="tab-panel animate-fade-in">
              <div class="flex overflow-x-auto gap-4 sm:grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 scrollbar-hide px-2">
                
                {% for rs in New_Arrivals %}
                  <article class="min-w-[250px] sm:min-w-0 relative bg-white shadow-lg rounded-2xl overflow-hidden hover:shadow-2xl transition group transform hover:-translate-y-2 duration-300">
                    <span class="absolute top-0 left-0 bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-br-lg shadow">NEW</span>
                    <div class="relative">
                      <img src="{{rs.image.url}}" alt="{{rs.title}}" class="w-full h-56 object-contain bg-gray-100">

                      <!-- Actions -->
                      <div class="absolute inset-0 flex items-center justify-center gap-3 opacity-0 group-hover:opacity-100 transition duration-300 bg-black/40">
                        <button class="bg-white p-3 rounded-full shadow hover:bg-yellow-500 hover:text-white transition"><i class="fa-solid fa-bag-shopping"></i></button>
                        <button class="bg-white p-3 rounded-full shadow hover:bg-yellow-500 hover:text-white transition heart-btn"><i class="fa-solid fa-heart"></i></button>
                        <a href="{% url 'product_detail' rs.id rs.slug %}">
                          <button id="opednPopup" class="bg-white p-3 rounded-full shadow hover:bg-yellow-500 hover:text-white transition"><i class="fa-solid fa-eye"></i></button>
                        </a>
                        <button class="bg-white p-3 rounded-full shadow hover:bg-yellow-500 hover:text-white transition"><i class="fa-solid fa-arrow-rotate-right"></i></button>
                      </div>
                    </div>

                    <div class="p-5">
                      <p class="text-xs text-gray-500 category-text">{{rs.category}}</p>
                      <h3 class="text-lg font-semibold mt-1">{{rs.title |truncatechars:30}}</h3>
                      <div class="flex items-center gap-2 mt-2">
                        <span class="text-red-600 font-bold">‚Çπ{{rs.price}}</span>
                        <span class="text-red-400 text-sm">%{{rs.discount}}</span>
                      </div>
                      <div class="flex text-yellow-400 mt-2 text-sm">
                        <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
                        <i class="fa-regular fa-star"></i>
                      </div>
                      <button class="w-full mt-2 bg-black text-white font-semibold py-2 px-4 rounded-lg hover:bg-gray-800 transition duration-300 flex items-center justify-center gap-2 shadow-md">Add to Cart</button>
                    </div>
                  </article>
                {% endfor %}

              </div>
        </div>



          <div id="top" class="tab-panel ">
            <div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                 {% for rs in Top_Rated %}
                
                    <article class="relative bg-white shadow-lg rounded-2xl overflow-hidden hover:shadow-2xl transition group transform hover:-translate-y-2 duration-300">
                      <span class="absolute top-0 left-0 bg-green-600 text-white text-xs font-bold px-3 py-1 rounded-br-lg shadow">TOP</span>
                    <a href="{% url 'product_detail' rs.id rs.slug %}">
                      <div class="relative">
                        <img src="{{rs.image.url}}" alt="TV Unit" class="w-full h-56 object-cover">
                      </div>
                      <div class="p-5">

                        <a href="#">
                        <p class="text-xs text-gray-500 mb-2">{{rs.category}}</p>
                        </a>
                      <a href="{% url 'product_detail' rs.id rs.slug %}">
                        <h3 class="text-lg font-semibold mt-1">{{rs.title}}</h3>
                      </a>

                        <div class="flex items-center gap-2 mt-2">
                          <span class="text-red-600 font-bold">‚Çπ{{rs.price}}</span>
                        </div>
                        <div class="flex text-yellow-400 mt-2 text-sm">
                          <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
                          <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
                          <i class="fa-regular fa-star"></i>
                        </div>
                      </div>
                    </article>
                  {% endfor %}

            </div>
          </div>




          <div id="feat" class="tab-panel hidden">
            <div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
            
              {% for rs in featured %}
              <article class="relative bg-white shadow-lg rounded-2xl overflow-hidden hover:shadow-2xl transition group transform hover:-translate-y-2 duration-300">
                <span class="absolute top-0 left-0 bg-purple-600 text-white text-xs font-bold px-3 py-1 rounded-br-lg shadow">FEATURED</span>
                <a href="{% url 'product_detail' rs.id rs.slug %}">
                <div class="relative">
                  <img src="{{rs.image.url}}" alt="TV Rack" class="w-full h-56 object-cover">
                </div>
                </a>
                <div class="p-5">
                  <p class="text-xs text-gray-500">{{rs.category}}</p>
                <a href="{% url 'product_detail' rs.id rs.slug %}">
                  <h3 class="text-lg font-semibold mt-1">{{rs.title |truncatechars:20}}</h3>
                </a>

                  <div class="flex items-center gap-2 mt-2">  
                    <span class="text-red-600 font-bold">‚Çπ{{rs.price}}</span>
                  </div>
                  <div class="flex text-yellow-400 mt-2 text-sm">
                    <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
                    <i class="fa-regular fa-star"></i><i class="fa-regular fa-star"></i>
                    <i class="fa-regular fa-star"></i>
                  </div>
                </div>
              </article>
              {% endfor %}
            </div>
          </div>


            <div class="text-center mt-6">
              <a href="{% url "product_list" %}" 
                 class="text-indigo-600 font-medium hover:text-indigo-800 hover:underline transition duration-200">
                 See All Products
              </a>
            </div>


        </section>





        <!-- Animations -->
        <style>
          .animate-fade-in {
            animation: fadeIn 0.5s ease-in-out;
          }
          @keyframes fadeIn {
            from {opacity: 0; transform: translateY(10px);}
            to {opacity: 1; transform: translateY(0);}
          }
        </style>

        <!-- Tabs JS -->
        <script>
          const tabBtns = document.querySelectorAll(".tab-btn");
          const tabPanels = document.querySelectorAll(".tab-panel");

          tabBtns.forEach(btn => {
            btn.addEventListener("click", () => {
              // Reset tabs
              tabBtns.forEach(b => b.classList.remove("bg-yellow-500","text-white","scale-105"));
              tabBtns.forEach(b => b.classList.add("bg-gray-200","text-gray-700"));

              // Active button
              btn.classList.add("bg-yellow-500","text-white","scale-105");
              btn.classList.remove("bg-gray-200","text-gray-700");

              // Hide panels
              tabPanels.forEach(p => { 
                p.classList.add("hidden"); 
                p.classList.remove("animate-fade-in");
              });

              // Show active panel
              const panel = document.getElementById(btn.dataset.tab);
              panel.classList.remove("hidden");
              panel.classList.add("animate-fade-in");
            });
          });

          // ‚úÖ Default open "New Arrivals"
          window.addEventListener("DOMContentLoaded", () => {
            document.querySelector('.tab-btn[data-tab="new"]').click();
          });
        </script>


        <script>
          document.addEventListener("DOMContentLoaded", () => {
            const heartBtns = document.querySelectorAll(".heart-btn");

            heartBtns.forEach(btn => {
              btn.addEventListener("click", () => {
                const categoryText = btn.closest("article").querySelector(".category-text");
                
                // Agar already heart hai to toggle kare
                if (categoryText.querySelector(".red-heart")) {
                  categoryText.querySelector(".red-heart").remove();
                } else {
                  const heart = document.createElement("span");
                  heart.classList.add("red-heart");
                  heart.innerHTML = ""; 
                  heart.style.color = "red";
                  categoryText.appendChild(heart);
                }
              });
            });
          });
                  function changeImage(src) {
              document.getElementById('pd-img').src = src;
            }


            document.querySelectorAll('.accordion').forEach(a => {
              a.addEventListener('click', () => {
                const panel = a.nextElementSibling;
                panel.classList.toggle('open');
              });
            });

            document.querySelectorAll('#size-options .option, #color-options .option').forEach(opt => {
              opt.addEventListener('click', () => {
                const siblings = opt.parentElement.querySelectorAll('.option');
                siblings.forEach(s => s.classList.remove('selected'));
                opt.classList.add('selected');
              });
            });


            // Function to load and display reviews from localStorage
            function loadReviews() {
                const reviews = JSON.parse(localStorage.getItem('reviews')) || [];
                const reviewList = document.getElementById('reviewList');
                reviewList.innerHTML = ''; // Clear existing reviews

                reviews.forEach((review, index) => {
                    const li = document.createElement('li');
                    li.textContent = review;

                    // Create a "Remove" button for each review
                    const removeBtn = document.createElement('button');
                    removeBtn.textContent = 'Remove';
                    removeBtn.style.marginLeft = '10px';
                    removeBtn.addEventListener('click', () => removeReview(index));

                    li.appendChild(removeBtn);
                    reviewList.appendChild(li);
                });
            }

            // Function to remove a review
            function removeReview(index) {
                const reviews = JSON.parse(localStorage.getItem('reviews')) || [];
                reviews.splice(index, 1); // Remove the review at the given index
                localStorage.setItem('reviews', JSON.stringify(reviews)); // Update localStorage
                loadReviews(); // Reload the review list
            }

            // Function to add a new review
            function addReview(reviewText) {
                const reviews = JSON.parse(localStorage.getItem('reviews')) || [];
                reviews.push(reviewText);
                localStorage.setItem('reviews', JSON.stringify(reviews));
                loadReviews(); // Update the review list
            }

            // Event listener for the submit button
            document.getElementById('submitReview').addEventListener('click', () => {
                const reviewText = document.getElementById('reviewText').value.trim();
                if (reviewText) {
                    addReview(reviewText); // Add the new review
                    document.getElementById('reviewText').value = ''; // Clear the input
                } else {
                    alert('Please write a review before submitting.');
                }
            });

            // Load reviews when the page is loaded
            window.onload = loadReviews;

        </script>
        
  <!-- CETEGORY END HERE -->


  <br>
  <br>
</product>
<!-- PRODUCT START HERE -->

<!-- BEST SELLER START HERE -->
  <section class="bg-[#fdfcf9] py-10">
    <div class="max-w-7xl mx-auto px-4">
      
      <!-- Heading -->
      <div class="flex items-center justify-between mb-6">
        <div>
          <h2 class="text-3xl font-bold text-gray-700">Best Selling of the Season</h2>
          <p class="text-gray-500">Don‚Äôt Miss the Best Sellers</p>
        </div>
        <button class="border px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-100">
          EXPLORE COLLECTION <i class="fa-solid fa-arrow-right"></i>
        </button>
      </div>

      <!-- ‚úÖ Mobile Horizontal Scroll Slider -->
      <div class="relative sm:hidden">
        <div id="bestSellerSlider" class="flex overflow-x-auto snap-x snap-mandatory gap-4 scroll-smooth scrollbar-hide">
          {% for rs in best_sellers %}
          <div class="min-w-[80%] snap-center bg-white rounded-xl shadow hover:shadow-lg overflow-hidden relative">
            <a href="{% url 'product_detail' rs.id rs.slug %}">
              <img src="{{ rs.image.url }}" class="w-full h-48 object-cover" alt="{{ rs.title }}">
            </a>
            <div class="p-4">
              <h3 class="font-semibold text-gray-700">{{ rs.title }}</h3>
              <div class="mt-2">
                {% discounted_price rs.price rs.discount as fp %}
                <span class="font-bold text-lg text-red-600">‚Çπ{{ fp }}</span>
                {% if rs.discount > 0 %}
                  <span class="line-through text-gray-400 ml-2">‚Çπ{{ rs.price }}</span>
                {% endif %}
                <span class="text-red-500 font-semibold ml-2">({{ rs.discount }}% Off)</span>
              </div>
              <span class="inline-block mt-2 text-green-700 bg-green-100 text-sm px-3 py-1 rounded-full">Available Online</span>
            </div>

            <!-- Share Dropdown -->
            <div class="absolute bottom-0 left-0 right-0 bg-gray-50 py-2 flex justify-center gap-4 text-gray-600 text-lg share-menu opacity-0 group-hover:opacity-100 transition">
              <h5 class="text-sm font-medium text-gray-500 mr-2">Share</h5>
              <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri|slice:':-1' }}{% url 'product_detail' rs.id rs.slug %}" target="_blank" class="hover:text-blue-600">
                <i class="fa-brands fa-facebook-f"></i>
              </a>
              <a href="https://www.instagram.com/?url={{ request.build_absolute_uri|slice:':-1' }}{% url 'product_detail' rs.id rs.slug %}" target="_blank" class="hover:text-pink-500">
                <i class="fa-brands fa-instagram"></i>
              </a>
              <a href="https://api.whatsapp.com/send?text=Check this product: {{ request.build_absolute_uri|slice:':-1' }}{% url 'product_detail' rs.id rs.slug %}" target="_blank" class="hover:text-green-500">
                <i class="fa-brands fa-whatsapp"></i>
              </a>
            </div>
          </div>
          {% endfor %}
        </div>

        <!-- Next/Prev Buttons -->
        <button id="bestSellerPrev" class="absolute top-1/2 -translate-y-1/2 left-0 bg-white shadow rounded-full p-2 text-gray-700 hover:bg-yellow-500 hover:text-white transition">
          <i class="fa-solid fa-chevron-left"></i>
        </button>
        <button id="bestSellerNext" class="absolute top-1/2 -translate-y-1/2 right-0 bg-white shadow rounded-full p-2 text-gray-700 hover:bg-yellow-500 hover:text-white transition">
          <i class="fa-solid fa-chevron-right"></i>
        </button>
      </div>

      <!-- ‚úÖ Desktop Grid -->
      <div class="hidden sm:grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
        {% for rs in best_sellers %}
        <div class="group bg-white rounded-xl shadow hover:shadow-lg overflow-hidden relative">
          <a href="{% url 'product_detail' rs.id rs.slug %}">
            <img src="{{ rs.image.url }}" class="w-full h-48 object-cover" alt="{{ rs.title }}">
          </a>
          <div class="p-4">
            <h3 class="font-semibold text-gray-700">{{ rs.title }}</h3>
            <div class="mt-2">
              {% discounted_price rs.price rs.discount as fp %}
              <span class="font-bold text-lg text-red-600">‚Çπ{{ fp }}</span>
              {% if rs.discount > 0 %}
                <span class="line-through text-gray-400 ml-2">‚Çπ{{ rs.price }}</span>
              {% endif %}
              <span class="text-red-500 font-semibold ml-2">({{ rs.discount }}% Off)</span>
            </div>
            <span class="inline-block mt-2 text-green-700 bg-green-100 text-sm px-3 py-1 rounded-full">Available Online</span>
          </div>

          <!-- Share Dropdown -->
          <div class="absolute bottom-0 left-0 right-0 bg-gray-50 py-2 flex justify-center gap-4 text-gray-600 text-lg share-menu opacity-0 group-hover:opacity-100 transition">
            <h5 class="text-sm font-medium text-gray-500 mr-2">Share</h5>
            <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri|slice:':-1' }}{% url 'product_detail' rs.id rs.slug %}" target="_blank" class="hover:text-blue-600">
              <i class="fa-brands fa-facebook-f"></i>
            </a>
            <a href="https://www.instagram.com/?url={{ request.build_absolute_uri|slice:':-1' }}{% url 'product_detail' rs.id rs.slug %}" target="_blank" class="hover:text-pink-500">
              <i class="fa-brands fa-instagram"></i>
            </a>
            <a href="https://api.whatsapp.com/send?text=Check this product: {{ request.build_absolute_uri|slice:':-1' }}{% url 'product_detail' rs.id rs.slug %}" target="_blank" class="hover:text-green-500">
              <i class="fa-brands fa-whatsapp"></i>
            </a>
          </div>
        </div>
        {% endfor %}
      </div>

      <!-- ‚úÖ Button Proper Niche Center -->
      <div class="flex justify-center mt-8">
        <a href="{% url 'product_list' %}" 
          class="relative group px-10 py-3 rounded-full font-bold text-lg text-white 
          bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 shadow-xl overflow-hidden transition-all duration-500
          hover:scale-105 hover:shadow-yellow-400/50">
          <span class="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent 
            translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-700 ease-in-out"></span>
          <span class="relative z-10">View All Best Sellers</span>
        </a>
      </div>

    </div>
  </section>

  <!-- ‚úÖ Slider Controls Script -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
    const slider = document.getElementById('bestSellerSlider');
    const nextBtn = document.getElementById('bestSellerNext');
    const prevBtn = document.getElementById('bestSellerPrev');

    nextBtn.addEventListener('click', () => {
      slider.scrollBy({ left: slider.clientWidth * 0.9, behavior: 'smooth' });
    });
    prevBtn.addEventListener('click', () => {
      slider.scrollBy({ left: -slider.clientWidth * 0.9, behavior: 'smooth' });
    });
  });
  </script>
<!-- BEST SELLER END HERE -->


<!-- Showrooms Across India Start -->
<section class="w-full bg-gray-100 py-12 bg-[#fdfcf9]">
  <div class="max-w-7xl mx-auto px-4">
    <!-- Heading -->
    <h2 class="text-3xl md:text-4xl font-bold text-center mb-4">
      {{rs.title}} Showrooms Across India
    </h2>

    <!-- Offer Banner -->
    <div class="flex justify-center mb-8">
      <div class="bg-white border rounded-full px-6 py-2 shadow flex items-center gap-3">
        <span class="bg-green-600 text-white font-semibold text-sm px-3 py-1 rounded-full">OFFER</span>
        <p class="text-gray-700 text-sm">
          GET <span class="text-red-500 font-bold">UPTO 10% OFF</span> * on orders placed at your nearest stores
        </p>
      </div>
    </div>

        <!-- City Cards -->
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-6 gap-6">
          {% for showroom in showrooms %}
          <div class="bg-white rounded-xl shadow hover:shadow-lg transition text-center">
            <!-- ‚¨áÔ∏è Plain text header, no bg color -->
            <div class="py-2 rounded-t-xl font-bold text-gray-800 border-b">
              {{ showroom.city_name }}
            </div> 

            <div class="p-4">
              {% if showroom.image %}
                <img src="{{ showroom.image.url }}" alt="{{ showroom.city_name }}" class="h-16 mx-auto mb-3">
              {% else %}
                <img src="https://cdn-icons-png.flaticon.com/512/3448/3448338.png" alt="City" class="h-16 mx-auto mb-3">
              {% endif %}
              <p class="font-semibold text-gray-700">{{ showroom.store_count }} Stores</p>
            </div>
          </div>
          {% endfor %}
        </div>


    <!-- Explore Button -->
    <div class="flex justify-center mt-10">
      <button class="border-2 border-gray-800 px-6 py-3 rounded-lg font-medium flex items-center gap-2 hover:bg-gray-800 hover:text-white transition">
        EXPLORE ALL STORES <i class="fa-solid fa-arrow-right"></i>
      </button>
    </div>
  </div>
</section>
<!-- Showrooms Across India End -->

<!-- Modular Kitchen Start Here -->
<section class="max-w-7xl mx-auto px-4 py-12 bg-[#fdfcf9]">
  <!-- Heading -->
  <div class="flex flex-col sm:flex-row justify-between items-center mb-8">
    <div>
      <h2 class="text-4xl font-bold text-gray-800">Modular Kitchen</h2>
      <p class="text-gray-500">Don't Miss Our Limited Offers</p>
    </div>
    <a href="{% url 'product_list' %}" 
       class="mt-4 sm:mt-0 inline-flex items-center gap-2 px-6 py-3 border border-gray-400 rounded-xl text-gray-700 font-semibold hover:bg-gray-800 hover:text-white transition">
      EXPLORE COLLECTION
      <i class="fa-solid fa-arrow-right"></i>
    </a>
  </div>

  <!-- Dynamic Image Grid -->
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
    {% for kitchen in modular_kitchens %}
    <div class="relative group overflow-hidden rounded-lg shadow">
      <img src="{{ kitchen.image.url }}" 
           alt="{{ kitchen.title }}" 
           class="w-full h-72 object-cover transition-transform duration-500 group-hover:scale-110">
      <div class="absolute bottom-4 left-4 text-white text-lg font-semibold drop-shadow-lg">
        {{ kitchen.title }}
      </div>
    </div>
    {% endfor %}
  </div>

  <div class="flex justify-center mt-10">
    <a href="{% url 'product_list' %}" 
       class="inline-flex items-center gap-2 px-5 py-2 border border-gray-400 text-gray-700 font-medium 
              rounded-lg hover:bg-gray-800 hover:text-white hover:border-gray-800 transition">
      Explore All
      <i class="fa-solid fa-arrow-right text-xs"></i>
    </a>
  </div>
</section>
<!-- Modular Kitchen End Here -->


<!-- TOP PRODUCT OF THE WEEK -->
{% if top_product %}
<section class="bg-gray-100 py-16 mt-6">
  <div class="container mx-auto px-6">
    <!-- Section Heading -->
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold text-gray-800">Top Product of the Week</h2>
      <p class="text-gray-600 mt-2">Our best-selling product loved by customers this week</p>
    </div>

    <!-- Product Card -->
    <div class="bg-white rounded-2xl shadow-lg flex flex-col md:flex-row items-center md:items-start overflow-hidden">
      
      <!-- Left Image -->
      <div class="md:w-1/2 w-full">
        <img src="{{ top_product.image.url }}" 
             alt="{{ top_product.title }}" 
             class="w-full h-[60vh] object-cover">
      </div>

      <!-- Right Details -->
      <div class="md:w-1/2 w-full p-8">
        <h3 class="text-2xl font-bold text-gray-800 mb-4">{{ top_product.title }}</h3>
        
        <!-- Price -->
        <div class="mb-4">
          <span class="text-3xl font-bold text-purple-600">
            ‚Çπ{{ top_product.discounted_price|intcomma }}
          </span>

          {% if top_product.discount_percent > 0 %}
          <span class="line-through text-gray-400 ml-2">
            ‚Çπ{{ top_product.original_price|intcomma }}
          </span>
          {% endif %}

          <span class="ml-3 text-green-600 font-semibold">
            {{ top_product.discount_percent }}% OFF
          </span>
        </div>

        <!-- Description -->
        <p class="text-gray-600 mb-6">
          {{ top_product.description }}
        </p>

        <!-- Features -->
        <ul class="space-y-2 text-gray-700 mb-6">
          {% if top_product.feature_1 %}<li>‚úÖ {{ top_product.feature_1 }}</li>{% endif %}
          {% if top_product.feature_2 %}<li>‚úÖ {{ top_product.feature_2 }}</li>{% endif %}
          {% if top_product.feature_3 %}<li>‚úÖ {{ top_product.feature_3 }}</li>{% endif %}
          {% if top_product.feature_4 %}<li>‚úÖ {{ top_product.feature_4 }}</li>{% endif %}
        </ul>

        <!-- Buttons -->
        <div class="flex space-x-4">
          <button class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition">
            Buy Now
          </button>
          <button class="border border-purple-600 text-purple-600 px-6 py-3 rounded-xl font-semibold hover:bg-purple-50 transition">
            Add to Cart
          </button>
        </div>
      </div>
    </div>
  </div>
</section>
{% endif %}

<!-- TOP PRODUCT OF THE WEEK END-->

<!-- Customer Words -->
  <section class="text-gray-600 body-font bg-gray-50 py-16">
    <h1 class="text-4xl font-bold text-center text-[#9A8776]">CUSTOMER WORDS</h1>
    <p class="text-center mt-2 text-black">Happy Testimonials From Our Satisfied Customers</p>

    <div class="container px-5 mt-10 mx-auto">
      <div class="swiper mySwiper">
        <div class="swiper-wrapper">
          {% for t in testimonials %}
          <div class="swiper-slide p-4">
            <div class="h-full text-center bg-white rounded-2xl shadow p-8">
              {% if t.image %}
                <img alt="{{ t.name }}" 
                    class="w-20 h-20 mb-6 object-cover object-center rounded-full inline-block border-2 border-gray-200 bg-gray-100 mx-auto" 
                    src="{{ t.image.url }}">
              {% else %}
                <img alt="{{ t.name }}" 
                    class="w-20 h-20 mb-6 object-cover object-center rounded-full inline-block border-2 border-gray-200 bg-gray-100 mx-auto" 
                    src="https://dummyimage.com/300x300">
              {% endif %}

              <!-- ‚≠ê Rating -->
              <div class="flex justify-center mb-3 text-yellow-400 text-lg">
                {% for i in "12345" %}
                  {% if forloop.counter <= t.rating %}
                    <i class="fa-solid fa-star"></i>
                  {% else %}
                    <i class="fa-regular fa-star"></i>
                  {% endif %}
                {% endfor %}
              </div>

              <p class="leading-relaxed">‚Äú{{ t.message |truncatechars:130}}‚Äù</p>
              <span class="inline-block h-1 w-10 rounded bg-indigo-500 mt-6 mb-4"></span>
              <h2 class="text-gray-900 font-medium title-font tracking-wider text-sm">{{ t.name }}</h2>
              {% if t.designation %}
                <p class="text-gray-500">{{ t.designation }}</p>
              {% endif %}
            </div>
          </div>
          {% endfor %}
        </div>

        <!-- ‚úÖ Dots Pagination -->
        <div class="swiper-pagination mt-6"></div>
      </div>
    </div>
  </section>

  <!-- Swiper CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"/>
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

  <!-- ‚úÖ Swiper Init Script -->
  <script>
    const swiper = new Swiper(".mySwiper", {
      slidesPerView: 1,
      spaceBetween: 24,
      loop: true,
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
      autoplay: {
        delay: 4000,
        disableOnInteraction: false,
      },
      breakpoints: {
        768: { slidesPerView: 2 },
        1024: { slidesPerView: 3 },
      }
    });
  </script>

  <!-- ‚úÖ Dots Styling -->
  <style>
    .swiper-pagination {
      position: relative;
      bottom: 0;
      margin-top: 1rem;
      text-align: center;
    }
    .swiper-pagination-bullet {
      width: 10px;
      height: 10px;
      background: #bbb;
      opacity: 1;
      margin: 0 5px !important;
      transition: background 0.3s;
    }
    .swiper-pagination-bullet-active {
      background: #717171;
    }
  </style>

<!-- Customer Words End-->

<!-- SUPPORT SECTION START -->
<section class="bg-gray-300 text-gray-900 body-font mb-5">
  <div class="container px-5 py-16 mx-auto">
    <div class="flex flex-col text-center w-full mb-12">
      <h1 class="sm:text-4xl text-3xl font-bold title-font mb-4 text-gray-900">
        Customer Support
      </h1>
      <p class="lg:w-2/3 mx-auto leading-relaxed text-base">
        We‚Äôre here to help you 24/7. Reach out to us anytime for assistance.
      </p>
    </div>

    {% if support_info %}
    <div class="flex flex-wrap -m-4 text-center">
      
      <!-- üìû Phone Support -->
      <div class="p-4 md:w-1/3 w-full">
        <div class="h-full border-2 border-gray-200 px-8 py-10 rounded-2xl shadow-lg hover:shadow-2xl transition duration-300">
          <i class="fa-solid fa-phone text-pink-600 text-5xl mb-4"></i>
          <h2 class="text-lg font-bold text-gray-900 mb-2">Phone Support</h2>
          <p class="leading-relaxed text-base">
            {{ support_info.support_time_start }} To {{ support_info.support_time_end }} <br>
            <strong>{{ support_info.phone_number }}</strong>
          </p>
        </div>
      </div>

      <!-- üìß Email Support -->
      <div class="p-4 md:w-1/3 w-full">
        <div class="h-full border-2 border-gray-200 px-8 py-10 rounded-2xl shadow-lg hover:shadow-2xl transition duration-300">
          <i class="fa-solid fa-envelope text-pink-600 text-5xl mb-4"></i>
          <h2 class="text-lg font-bold text-gray-900 mb-2">Email Support</h2>
          <p class="leading-relaxed text-base">
            Drop us an email at <br>
            <strong>{{ support_info.email }}</strong>
          </p>
        </div>
      </div>

      <!-- üí¨ Live Chat -->
      <div class="p-4 md:w-1/3 w-full">
        <div class="h-full border-2 border-gray-200 px-8 py-10 rounded-2xl shadow-lg hover:shadow-2xl transition duration-300">
          <i class="fa-solid fa-comments text-pink-600 text-5xl mb-4"></i>
          <h2 class="text-lg font-bold text-gray-900 mb-2">Live Chat</h2>
          <p class="leading-relaxed text-base">{{ support_info.live_chat_text }}</p>

          <div class="flex items-center gap-2 bg-green-100 mt-2 text-green-700 px-3 py-2 rounded-lg w-fit mx-auto">
            <i class="fas fa-circle text-xs text-green-500"></i>
            <span>Online From {{ support_info.opening_time }}</span>
            <span>To {{ support_info.closing_time }}</span>
          </div>
        </div>
      </div>

    </div>
    {% endif %}
  </div>
</section>
<!-- SUPPORT SECTION END -->
