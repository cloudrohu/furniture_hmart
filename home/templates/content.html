{% load static %}


<!-- CETEGORY START HERE -->
<section class="max-w-7xl mx-auto py-24 px-6 mt-10 bg-white shadow-2xl rounded-3xl mb-10">
  <div class="text-center mb-14">
    <h2 class="text-4xl md:text-5xl font-extrabold tracking-wide text-gray-900">‚ú® Products Category</h2>
    <p class="text-gray-600 mt-3 text-lg">Explore our premium range of furniture, crafted for elegance</p>
  </div>

  <div class="relative">
    <!-- Left Button -->
    <button id="prevBtn" class="absolute left-0 top-1/2 -translate-y-1/2 bg-yellow-500 shadow-lg rounded-full p-4 z-10 text-white text-2xl hover:scale-125 transition-transform">
      &#8592;
    </button>

    <!-- Slider -->
    <div id="categorySlider" class="flex gap-10 overflow-x-auto scroll-smooth no-scrollbar px-2">

      {% for rs in category %}
      <!-- Item -->
      <a href="#"
        class="min-w-[300px] bg-gradient-to-b from-gray-50 to-white shadow-xl rounded-2xl overflow-hidden text-center border-2 border-transparent hover:border-yellow-500 hover:shadow-2xl transform hover:scale-110 transition-all duration-300">
        
        <div class="relative h-56 md:h-64 overflow-hidden">
          <img src="{{rs.image.url}}" class="w-full h-full object-cover hover:scale-110 transition-transform duration-500" alt="{{rs.title}}">
          <!-- Overlay -->
          <div class="absolute inset-0 bg-black bg-opacity-20 opacity-0 hover:opacity-100 flex items-center justify-center transition-opacity duration-500">
            <span class="text-white text-xl font-semibold">View More</span>
          </div>
        </div>

        <div class="py-6">
          <h3 class="font-bold text-xl text-gray-800">{{rs.title}}</h3>
        </div>
      </a>
      {% endfor %}

    </div>
    
    <!-- Right Button -->
    <button id="nextBtn" class="absolute right-0 top-1/2 -translate-y-1/2 bg-yellow-500 shadow-lg rounded-full p-4 z-10 text-white text-2xl hover:scale-125 transition-transform">
      &#8594;
    </button>
  </div>
</section>
<!-- CETEGORY END HERE -->


<!-- PRODUCT START HERE -->
<product class="bg-[#fdfcf9] py-10">
    <section class="max-w-7xl mx-auto px-4 py-12 bg-white shadow-lg rounded-lg">
           



          <div class="text-center mb-10">
            <h2 class="text-4xl font-bold tracking-wide text-gray-900">Our Products</h2>
            <p class="text-gray-600 mt-2">Discover our exclusive furniture collection, blending style and comfort for your home.</p>
          </div>
          
          <!-- Tabs -->
          <div class="flex flex-wrap justify-center gap-4 mb-10">
            <button class="tab-btn px-6 py-2 rounded-full font-semibold shadow-sm transition-all duration-300 bg-yellow-500 text-white scale-105" data-tab="new">‚ú® New Arrivals</button>
            <button class="tab-btn px-6 py-2 rounded-full font-semibold shadow-sm transition-all duration-300 bg-gray-200 text-gray-700 hover:bg-yellow-400 hover:text-white" data-tab="top">‚≠ê Top Rated</button>
            <button class="tab-btn px-6 py-2 rounded-full font-semibold shadow-sm transition-all duration-300 bg-gray-200 text-gray-700 hover:bg-yellow-400 hover:text-white" data-tab="feat">üî• Featured</button>
          </div>

          <!-- Panels -->
         <div id="new" class="tab-panel animate-fade-in">
              <div class="flex overflow-x-auto gap-4 sm:grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 scrollbar-hide px-2">
                
                {% for rs in New_Arrivals %}
                  <article class="min-w-[250px] sm:min-w-0 relative bg-white shadow-lg rounded-2xl overflow-hidden hover:shadow-2xl transition group transform hover:-translate-y-2 duration-300">
                    <span class="absolute top-0 left-0 bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-br-lg shadow">NEW</span>
                    <div class="relative">
                      <img src="{{rs.image.url}}" alt="{{rs.title}}" class="w-full h-56 object-contain bg-gray-100">

                      <!-- Actions -->
                      <div class="absolute inset-0 flex items-center justify-center gap-3 opacity-0 group-hover:opacity-100 transition duration-300 bg-black/40">
                        <button class="bg-white p-3 rounded-full shadow hover:bg-yellow-500 hover:text-white transition"><i class="fa-solid fa-bag-shopping"></i></button>
                        <button class="bg-white p-3 rounded-full shadow hover:bg-yellow-500 hover:text-white transition heart-btn"><i class="fa-solid fa-heart"></i></button>
                        <a href="{% url 'product_detail' rs.id rs.slug %}">
                          <button id="opednPopup" class="bg-white p-3 rounded-full shadow hover:bg-yellow-500 hover:text-white transition"><i class="fa-solid fa-eye"></i></button>
                        </a>
                        <button class="bg-white p-3 rounded-full shadow hover:bg-yellow-500 hover:text-white transition"><i class="fa-solid fa-arrow-rotate-right"></i></button>
                      </div>
                    </div>

                    <div class="p-5">
                      <p class="text-xs text-gray-500 category-text">{{rs.category}}</p>
                      <h3 class="text-lg font-semibold mt-1">{{rs.title}}</h3>
                      <div class="flex items-center gap-2 mt-2">
                        <span class="text-red-600 font-bold">‚Çπ{{rs.price}}</span>
                        <span class="text-red-400 text-sm">%{{rs.discount}}</span>
                      </div>
                      <div class="flex text-yellow-400 mt-2 text-sm">
                        <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
                        <i class="fa-regular fa-star"></i>
                      </div>
                      <button class="w-full mt-2 bg-black text-white font-semibold py-2 px-4 rounded-lg hover:bg-gray-800 transition duration-300 flex items-center justify-center gap-2 shadow-md">Add to Cart</button>
                    </div>
                  </article>
                {% endfor %}

              </div>
        </div>


        {% for rs in Top_Rated %}

          <div id="top" class="tab-panel ">
            <div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
              <article class="relative bg-white shadow-lg rounded-2xl overflow-hidden hover:shadow-2xl transition group transform hover:-translate-y-2 duration-300">
                <span class="absolute top-0 left-0 bg-green-600 text-white text-xs font-bold px-3 py-1 rounded-br-lg shadow">TOP</span>
                <div class="relative">
                  <img src="https://images.unsplash.com/photo-1600490036275-35f7fdc5f31d?q=80&w=1200&auto=format&fit=crop" alt="TV Unit" class="w-full h-56 object-cover">
                </div>
                <div class="p-5">
                  <p class="text-xs text-gray-500">T.V. & Entertainment Units</p>
                  <h3 class="text-lg font-semibold mt-1">Premium TV Unit</h3>
                  <div class="flex items-center gap-2 mt-2">
                    <span class="text-red-600 font-bold">‚Çπ35,058</span>
                  </div>
                  <div class="flex text-yellow-400 mt-2 text-sm">
                    <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
                    <i class="fa-regular fa-star"></i>
                  </div>
                </div>
              </article>
            </div>
          </div>

          {% endfor %}


          
          <div id="feat" class="tab-panel hidden">
            <div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
              <article class="relative bg-white shadow-lg rounded-2xl overflow-hidden hover:shadow-2xl transition group transform hover:-translate-y-2 duration-300">
                <span class="absolute top-0 left-0 bg-purple-600 text-white text-xs font-bold px-3 py-1 rounded-br-lg shadow">FEATURED</span>
                <div class="relative">
                  <img src="https://images.unsplash.com/photo-1582582429720-72a993e5c8fa?q=80&w=1200&auto=format&fit=crop" alt="TV Rack" class="w-full h-56 object-cover">
                </div>
                <div class="p-5">
                  <p class="text-xs text-gray-500">T.V. & Entertainment Units</p>
                  <h3 class="text-lg font-semibold mt-1">TV-Unit Rack</h3>
                  <div class="flex items-center gap-2 mt-2">
                    <span class="text-red-600 font-bold">‚Çπ8,968</span>
                  </div>
                  <div class="flex text-yellow-400 mt-2 text-sm">
                    <i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i>
                    <i class="fa-regular fa-star"></i><i class="fa-regular fa-star"></i>
                    <i class="fa-regular fa-star"></i>
                  </div>
                </div>
              </article>
            </div>
          </div>


            <div class="text-center mt-6">
              <a href="product_list.html" 
                 class="text-indigo-600 font-medium hover:text-indigo-800 hover:underline transition duration-200">
                 See All Products
              </a>
            </div>


        </section>





        <!-- Animations -->
        <style>
          .animate-fade-in {
            animation: fadeIn 0.5s ease-in-out;
          }
          @keyframes fadeIn {
            from {opacity: 0; transform: translateY(10px);}
            to {opacity: 1; transform: translateY(0);}
          }
        </style>

        <!-- Tabs JS -->
        <script>
          const tabBtns = document.querySelectorAll(".tab-btn");
          const tabPanels = document.querySelectorAll(".tab-panel");

          tabBtns.forEach(btn => {
            btn.addEventListener("click", () => {
              // Reset tabs
              tabBtns.forEach(b => b.classList.remove("bg-yellow-500","text-white","scale-105"));
              tabBtns.forEach(b => b.classList.add("bg-gray-200","text-gray-700"));

              // Active button
              btn.classList.add("bg-yellow-500","text-white","scale-105");
              btn.classList.remove("bg-gray-200","text-gray-700");

              // Hide panels
              tabPanels.forEach(p => { 
                p.classList.add("hidden"); 
                p.classList.remove("animate-fade-in");
              });

              // Show active panel
              const panel = document.getElementById(btn.dataset.tab);
              panel.classList.remove("hidden");
              panel.classList.add("animate-fade-in");
            });
          });

          // ‚úÖ Default open "New Arrivals"
          window.addEventListener("DOMContentLoaded", () => {
            document.querySelector('.tab-btn[data-tab="new"]').click();
          });
        </script>


        <script>
          document.addEventListener("DOMContentLoaded", () => {
            const heartBtns = document.querySelectorAll(".heart-btn");

            heartBtns.forEach(btn => {
              btn.addEventListener("click", () => {
                const categoryText = btn.closest("article").querySelector(".category-text");
                
                // Agar already heart hai to toggle kare
                if (categoryText.querySelector(".red-heart")) {
                  categoryText.querySelector(".red-heart").remove();
                } else {
                  const heart = document.createElement("span");
                  heart.classList.add("red-heart");
                  heart.innerHTML = ""; 
                  heart.style.color = "red";
                  categoryText.appendChild(heart);
                }
              });
            });
          });
                  function changeImage(src) {
              document.getElementById('pd-img').src = src;
            }


            document.querySelectorAll('.accordion').forEach(a => {
              a.addEventListener('click', () => {
                const panel = a.nextElementSibling;
                panel.classList.toggle('open');
              });
            });

            document.querySelectorAll('#size-options .option, #color-options .option').forEach(opt => {
              opt.addEventListener('click', () => {
                const siblings = opt.parentElement.querySelectorAll('.option');
                siblings.forEach(s => s.classList.remove('selected'));
                opt.classList.add('selected');
              });
            });


            // Function to load and display reviews from localStorage
            function loadReviews() {
                const reviews = JSON.parse(localStorage.getItem('reviews')) || [];
                const reviewList = document.getElementById('reviewList');
                reviewList.innerHTML = ''; // Clear existing reviews

                reviews.forEach((review, index) => {
                    const li = document.createElement('li');
                    li.textContent = review;

                    // Create a "Remove" button for each review
                    const removeBtn = document.createElement('button');
                    removeBtn.textContent = 'Remove';
                    removeBtn.style.marginLeft = '10px';
                    removeBtn.addEventListener('click', () => removeReview(index));

                    li.appendChild(removeBtn);
                    reviewList.appendChild(li);
                });
            }

            // Function to remove a review
            function removeReview(index) {
                const reviews = JSON.parse(localStorage.getItem('reviews')) || [];
                reviews.splice(index, 1); // Remove the review at the given index
                localStorage.setItem('reviews', JSON.stringify(reviews)); // Update localStorage
                loadReviews(); // Reload the review list
            }

            // Function to add a new review
            function addReview(reviewText) {
                const reviews = JSON.parse(localStorage.getItem('reviews')) || [];
                reviews.push(reviewText);
                localStorage.setItem('reviews', JSON.stringify(reviews));
                loadReviews(); // Update the review list
            }

            // Event listener for the submit button
            document.getElementById('submitReview').addEventListener('click', () => {
                const reviewText = document.getElementById('reviewText').value.trim();
                if (reviewText) {
                    addReview(reviewText); // Add the new review
                    document.getElementById('reviewText').value = ''; // Clear the input
                } else {
                    alert('Please write a review before submitting.');
                }
            });

            // Load reviews when the page is loaded
            window.onload = loadReviews;

        </script>
        
  <!-- CETEGORY END HERE -->


  <br>
  <br>
</product>
<!-- PRODUCT START HERE -->

